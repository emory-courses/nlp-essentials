"use strict";(globalThis.webpackChunknlp_essentials_textbook=globalThis.webpackChunknlp_essentials_textbook||[]).push([[691],{2858(e,t,n){n.d(t,{A:()=>s});const s=n.p+"assets/images/pycharm3-bb9c6ea9c292ff7107e2fba60cbe67a5.png"},8453(e,t,n){n.d(t,{R:()=>o,x:()=>a});var s=n(6540);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}},8632(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"text_processing/frequency-analysis","title":"Frequency Analysis","description":"Frequency Analysis examines how often each word appears in a corpus. It helps understand language patterns and structure by measuring how often words appear in text.","source":"@site/docs/text_processing/frequency-analysis.md","sourceDirName":"text_processing","slug":"/text_processing/frequency-analysis","permalink":"/nlp-essentials/text_processing/frequency-analysis","draft":false,"unlisted":false,"editUrl":"https://github.com/emory-courses/nlp-essentials/tree/main/docs/text_processing/frequency-analysis.md","tags":[],"version":"current","frontMatter":{"title":"Frequency Analysis"},"sidebar":"chaptersSidebar","previous":{"title":"Overview","permalink":"/nlp-essentials/text_processing/overview"},"next":{"title":"Tokenization","permalink":"/nlp-essentials/text_processing/tokenization"}}');var r=n(4848),i=n(8453);const o={title:"Frequency Analysis"},a=void 0,l={},c=[{value:"Word Counting",id:"word-counting",level:2},{value:"Word Frequency",id:"word-frequency",level:2},{value:"Save Output",id:"save-output",level:2},{value:"References",id:"references",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=t;return s||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Frequency Analysis"})," examines how often each word appears in a corpus. It helps understand language patterns and structure by measuring how often words appear in text."]}),"\n",(0,r.jsx)(t.h2,{id:"word-counting",children:"Word Counting"}),"\n",(0,r.jsxs)(t.p,{children:['Consider the following text from Wikipedia about "Emory University" (',(0,r.jsx)(t.a,{href:"https://github.com/emory-courses/nlp-essentials/blob/main/dat/emory-wiki.txt",children:"dat/emory-wiki.txt"}),"):"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Emory University (as of 2023-10-18)"}),(0,r.jsx)("div",{className:"wrap-text",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"Emory University is a private research university in Atlanta, Georgia. Founded in 1836 as Emory College by the Methodist Episcopal Church and named in honor of Methodist bishop John Emory.[18]\n\nEmory University has nine academic divisions. Emory Healthcare is the largest healthcare system in the state of Georgia[19] and comprises seven major hospitals, including Emory University Hospital and Emory University Hospital Midtown.[20] The university operates the Winship Cancer Institute, Yerkes National Primate Research Center, and many disease and vaccine research centers.[21][22] Emory University is the leading coordinator of the U.S. Health Department's National Ebola Training and Education Center.[23] The university is one of four institutions involved in the NIAID's Tuberculosis Research Units Program.[24] The International Association of National Public Health Institutes is headquartered at the university.[25]\n\nEmory University has the 15th-largest endowment among U.S. colleges and universities.[9] The university is classified among \"R1: Doctoral Universities - Very high research activity\"[26] and is cited for high scientific performance and citation impact in the CWTS Leiden Ranking.[27] The National Science Foundation ranked the university 36th among academic institutions in the United States for research and development (R&D) expenditures.[28][29] In 1995 Emory University was elected to the Association of American Universities, an association of the 65 leading research universities in the United States and Canada.[5]\n\nEmory faculty and alumni include 2 Prime Ministers, 9 university presidents, 11 members of the United States Congress, 2 Nobel Peace Prize laureates, a Vice President of the United States, a United States Speaker of the House, and a United States Supreme Court Justice. Other notable alumni include 21 Rhodes Scholars and 6 Pulitzer Prize winners, as well as Emmy Award winners, MacArthur Fellows, CEOs of Fortune 500 companies, heads of state and other leaders in foreign government.[30] Emory has more than 149,000 alumni, with 75 alumni clubs established worldwide in 20 countries.[31][32][33]\n"})})})]}),"\n",(0,r.jsx)(t.p,{children:"Our task is to determine the number of word tokens and unique word types in this text."}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Q1"}),": What is the difference between a ",(0,r.jsx)(t.strong,{children:"word token"})," and a ",(0,r.jsx)(t.strong,{children:"word type"}),"?"]})}),"\n",(0,r.jsx)(t.p,{children:"A simple way of accomplishing this task is to split the text by whitespace and count the resulting strings:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:"showLineNumbers",children:"from collections import Counter\n\ndef count_words(corpus: str) -> Counter:\n    fin = open(corpus)\n    words = fin.read().split()\n    return Counter(words)\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["L1: Import the ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/collections.html#collections.Counter",children:"Counter"})," class, a special type of a ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#typesmapping",children:"dictionary"}),", from the ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/collections.html",children:"collections"})," package."]}),"\n",(0,r.jsxs)(t.li,{children:["L3: Use ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/typing.html",children:"typing"})," to indicate the parameter type (",(0,r.jsx)(t.code,{children:"str"}),") and the return type (",(0,r.jsx)(t.code,{children:"Counter"}),")."]}),"\n",(0,r.jsxs)(t.li,{children:["L4: ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/functions.html#open",children:"open()"})," the ",(0,r.jsx)(t.code,{children:"corpus"})," file."]}),"\n",(0,r.jsxs)(t.li,{children:["L5: ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/io.html#io.TextIOBase.read",children:"read()"})," the contents of the file as a string, ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3.3/library/stdtypes.html?highlight=split#str.split",children:"split()"})," it into a ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#list",children:"list"})," of words, and store them in ",(0,r.jsx)(t.code,{children:"words"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"L6: Count the occurrences of each word and return the results as a Counter."}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'showLineNumbers title="Run"',children:"corpus = 'dat/emory-wiki.txt'\ncounts = count_words(corpus)\n\nn_tokens = sum(counts.values())\nn_types = len(counts)\n\nprint(f'# of word tokens: {n_tokens}')\nprint(f'# of word types: {n_types}')\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["L1: The corpus can be found ",(0,r.jsx)(t.a,{href:"https://github.com/emory-courses/nlp-essentials/blob/main/dat/emory-wiki.txt",children:"dat/emory-wiki.txt"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["L4: Save the total number of word tokens in the corpus, which is the ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/functions.html#sum",children:"sum()"})," of ",(0,r.jsx)(t.code,{children:"counts"})," values."]}),"\n",(0,r.jsxs)(t.li,{children:["L5: Save the number of unique word types in the corpus, which is the ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/functions.html#len",children:"len()"})," of ",(0,r.jsx)(t.code,{children:"counts"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["L7-8: Print the value using the ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/tutorial/inputoutput.html#tut-f-strings",children:"formatted string literals"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",metastring:'title="Output"',children:"# of word tokens: 305\n# of word types: 180\n"})}),"\n",(0,r.jsxs)(t.p,{children:["When running this program, you may encounter ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/exceptions.html#FileNotFoundError",children:"FileNotFoundError"}),". To fix this error, follow these steps to set up your working directory:"]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Go to  ",(0,r.jsx)(t.code,{children:"[Run] > [Edit Configurations]"})," in the menu."]}),"\n",(0,r.jsx)(t.li,{children:'Select "frequency_analysis" from the sidebar.'}),"\n",(0,r.jsx)(t.li,{children:'Change the working directory to the top-level "nlp-essentials" directory.'}),"\n",(0,r.jsxs)(t.li,{children:["Click ",(0,r.jsx)(t.code,{children:"[OK]"})," to save the changes."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Configure the working directory",src:n(2858).A+"",width:"1732",height:"1398"})}),"\n",(0,r.jsx)(t.h2,{id:"word-frequency",children:"Word Frequency"}),"\n",(0,r.jsxs)(t.p,{children:["In this task, we aim to retrieve the top-",(0,r.jsx)(t.em,{children:"k"})," most or least frequently occurring word types in the text:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'showLineNumbers title="Run"',children:"des = sorted(counts.items(), key=lambda x: x[1], reverse=True)\nasc = sorted(counts.items(), key=lambda x: x[1])\n\nfor word, count in des[:10]: print(word, count)\nfor word, count in asc[:10]: print(word, count)\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["L1: Sort words in ",(0,r.jsx)(t.code,{children:"counts"})," in descending order and save them into ",(0,r.jsx)(t.code,{children:"des"})," as a list of (word, count) ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#tuples",children:"tuples"}),", sorted from the most frequent to the least frequent words (",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/functions.html#sorted",children:"sorted()"}),", ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#dict.items",children:"items()"}),", ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/reference/expressions.html#lambda",children:"lambda"}),")."]}),"\n",(0,r.jsxs)(t.li,{children:["L2: Sort words in ",(0,r.jsx)(t.code,{children:"counts"})," in ascending order and save them into ",(0,r.jsx)(t.code,{children:"asc"})," as a list of (word, count) tuples."]}),"\n",(0,r.jsxs)(t.li,{children:["L4: Iterate over the top ",(0,r.jsx)(t.em,{children:"k"})," most frequent words in the sorted list using ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#common-sequence-operations",children:"slicing"}),", and print each word along with its count."]}),"\n",(0,r.jsxs)(t.li,{children:["L5: Iterate over the top ",(0,r.jsx)(t.em,{children:"k"})," least frequent words in the sorted list and print each word along with its count."]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",metastring:'title="Output: Most Frequent"',children:"the 18\nand 15\nof 12\nEmory 11\nin 10\nUniversity 7\nis 7\nuniversity 6\nUnited 6\nresearch 5\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-text",metastring:'title="Output: Least Frequent"',children:"private 1\nAtlanta, 1\nGeorgia. 1\nFounded 1\n1836 1\nCollege 1\nby 1\nEpiscopal 1\nChurch 1\nnamed 1\n"})}),"\n",(0,r.jsxs)(t.p,{children:['Notice that the top-10 least-frequent word list contains unnormalized words such as "',(0,r.jsx)(t.em,{children:"Atlanta,"}),'" (with the comma) and "',(0,r.jsx)(t.em,{children:"Georgia."}),'" (with the period). This occurs because the text was split only by whitespaces without considering punctuation. Consequently, these words are recognized separately from the word types "',(0,r.jsx)(t.em,{children:"Atlanta"}),'" and "',(0,r.jsx)(t.em,{children:"Georgia"}),'". Therefore, the counts of word tokens and types processed above do not necessarily represent the distributions of the text accurately.']}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Q2"}),": How can we interpret the ",(0,r.jsx)(t.strong,{children:"most frequent"})," words in a text?"]})}),"\n",(0,r.jsx)(t.h2,{id:"save-output",children:"Save Output"}),"\n",(0,r.jsx)(t.p,{children:"Finally, let us save all word types in alphabetical order to a file:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:"showLineNumbers",children:"def save_output(counts: Counter, outfile: str):\n    fout = open(outfile, 'w')\n\n    for word in sorted(counts.keys()):\n        fout.write(f'{word}\\n')\n\n    fout.close()\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["L2: Open ",(0,r.jsx)(t.code,{children:"outfile"})," in ",(0,r.jsx)(t.a,{href:"https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files",children:"write"})," mode (",(0,r.jsx)(t.code,{children:"w"}),")."]}),"\n",(0,r.jsxs)(t.li,{children:["L4: Iterate over unique word types (keys) of ",(0,r.jsx)(t.code,{children:"counts"})," in alphabetical order."]}),"\n",(0,r.jsxs)(t.li,{children:["L5: Write each word followed by a newline character to ",(0,r.jsx)(t.code,{children:"fout"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"L7: Close the output stream."}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:'showLineNumbers title="Run"',children:"save_output(counts, 'dat/word_types.txt')\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["L1: Creates the ",(0,r.jsx)(t.a,{href:"https://github.com/emory-courses/nlp-essentials/tree/main/dat/word_types.txt",children:"dat/word_types.txt"})," file if it does not exist; otherwise, its previous contents will be completely overwritten."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Source: ",(0,r.jsx)(t.a,{href:"https://github.com/emory-courses/nlp-essentials/blob/main/src/frequency_analysis.py",children:"src/frequency_analysis.py"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range",children:"Sequence Types"}),", The Python Standard Library - Built-in Types"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://docs.python.org/3/library/stdtypes.html#typesmapping",children:"Mapping Types"}),", The Python Standard Library - Built-in Types"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://docs.python.org/3/tutorial/inputoutput.html",children:"Input and Output"}),", The Python Tutorial"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);